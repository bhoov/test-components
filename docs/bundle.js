var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode.removeChild(t)}function c(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function h(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function d(){return g(" ")}function p(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function v(t,n,e){t.classList[e?"add":"remove"](n)}let w;function b(t){w=t}function x(){if(!w)throw new Error("Function called outside component initialization");return w}function $(t){x().$$.on_mount.push(t)}function M(){const t=x();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const i=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach(n=>{n.call(t,i)})}}}const k=[],_=[],N=[],S=[],E=Promise.resolve();let A=!1;function I(t){N.push(t)}let T=!1;const z=new Set;function P(){if(!T){T=!0;do{for(let t=0;t<k.length;t+=1){const n=k[t];b(n),H(n.$$)}for(k.length=0;_.length;)_.pop()();for(let t=0;t<N.length;t+=1){const n=N[t];z.has(n)||(z.add(n),n())}N.length=0}while(k.length);for(;S.length;)S.pop()();A=!1,T=!1,z.clear()}}function H(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(I)}}const j=new Set;function q(t,n){t&&t.i&&(j.delete(t),t.i(n))}function C(t,n,e,r){if(t&&t.o){if(j.has(t))return;j.add(t),undefined.c.push(()=>{j.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function O(t){t&&t.c()}function R(t,n,r){const{fragment:a,on_mount:u,on_destroy:l,after_update:s}=t.$$;a&&a.m(n,r),I(()=>{const n=u.map(e).filter(o);l?l.push(...n):i(n),t.$$.on_mount=[]}),s.forEach(I)}function L(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Y(t,n){-1===t.$$.dirty[0]&&(k.push(t),A||(A=!0,E.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function F(n,e,o,a,u,l,c=[-1]){const h=w;b(n);const f=e.props||{},g=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let d=!1;if(g.ctx=o?o(n,f,(t,e,...r)=>{const i=r.length?r[0]:e;return g.ctx&&u(g.ctx[t],g.ctx[t]=i)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](i),d&&Y(n,t)),e}):[],g.update(),d=!0,i(g.before_update),g.fragment=!!a&&a(g.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);g.fragment&&g.fragment.l(t),t.forEach(s)}else g.fragment&&g.fragment.c();e.intro&&q(n.$$.fragment),R(n,e.target,e.anchor),P()}b(h)}class V{$destroy(){L(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function W(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function B(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>W(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}const G=B(W).right;B((function(t){return null===t?NaN:+t})).center;var U=Math.sqrt(50),D=Math.sqrt(10),X=Math.sqrt(2);function Z(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=U?10:o>=D?5:o>=X?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=U?10:o>=D?5:o>=X?2:1)}function Q(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function J(t){if(!(i=t.length))return[];for(var n=-1,e=function(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}(t,K),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function K(t){return t.length}var tt={value:()=>{}};function nt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new et(r)}function et(t){this._=t}function rt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function it(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function ot(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=tt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function at(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ut(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function lt(){}et.prototype=nt.prototype={constructor:et,on:function(t,n){var e,r=this._,i=rt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=ot(r[e],t.name,n);else if(null==n)for(e in r)r[e]=ot(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=it(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new et(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var st=.7,ct=1/st,ht="\\s*([+-]?\\d+)\\s*",ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dt=/^#([0-9a-f]{3,8})$/,pt=new RegExp("^rgb\\("+[ht,ht,ht]+"\\)$"),mt=new RegExp("^rgb\\("+[gt,gt,gt]+"\\)$"),yt=new RegExp("^rgba\\("+[ht,ht,ht,ft]+"\\)$"),vt=new RegExp("^rgba\\("+[gt,gt,gt,ft]+"\\)$"),wt=new RegExp("^hsl\\("+[ft,gt,gt]+"\\)$"),bt=new RegExp("^hsla\\("+[ft,gt,gt,ft]+"\\)$"),xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $t(){return this.rgb().formatHex()}function Mt(){return this.rgb().formatRgb()}function kt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=dt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?_t(n):3===e?new At(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Nt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Nt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=pt.exec(t))?new At(n[1],n[2],n[3],1):(n=mt.exec(t))?new At(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=yt.exec(t))?Nt(n[1],n[2],n[3],n[4]):(n=vt.exec(t))?Nt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=wt.exec(t))?Pt(n[1],n[2]/100,n[3]/100,1):(n=bt.exec(t))?Pt(n[1],n[2]/100,n[3]/100,n[4]):xt.hasOwnProperty(t)?_t(xt[t]):"transparent"===t?new At(NaN,NaN,NaN,0):null}function _t(t){return new At(t>>16&255,t>>8&255,255&t,1)}function Nt(t,n,e,r){return r<=0&&(t=n=e=NaN),new At(t,n,e,r)}function St(t){return t instanceof lt||(t=kt(t)),t?new At((t=t.rgb()).r,t.g,t.b,t.opacity):new At}function Et(t,n,e,r){return 1===arguments.length?St(t):new At(t,n,e,null==r?1:r)}function At(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function It(){return"#"+zt(this.r)+zt(this.g)+zt(this.b)}function Tt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function zt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Pt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new jt(t,n,e,r)}function Ht(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof lt||(t=kt(t)),!t)return new jt;if(t instanceof jt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new jt(a,u,l,t.opacity)}function jt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function qt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}at(lt,kt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$t,formatHex:$t,formatHsl:function(){return Ht(this).formatHsl()},formatRgb:Mt,toString:Mt}),at(At,Et,ut(lt,{brighter:function(t){return t=null==t?ct:Math.pow(ct,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?st:Math.pow(st,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:It,formatHex:It,formatRgb:Tt,toString:Tt})),at(jt,(function(t,n,e,r){return 1===arguments.length?Ht(t):new jt(t,n,e,null==r?1:r)}),ut(lt,{brighter:function(t){return t=null==t?ct:Math.pow(ct,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?st:Math.pow(st,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new At(qt(t>=240?t-240:t+120,i,r),qt(t,i,r),qt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ct=t=>()=>t;function Ot(t){return 1==(t=+t)?Rt:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ct(isNaN(n)?e:n)}}function Rt(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Ct(isNaN(t)?n:t)}var Lt=function t(n){var e=Ot(n);function r(t,n){var r=e((t=Et(t)).r,(n=Et(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Rt(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Yt(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ft(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Xt(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Vt(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Bt(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Xt(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ut=new RegExp(Gt.source,"g");function Dt(t,n){var e,r,i,o=Gt.lastIndex=Ut.lastIndex=0,a=-1,u=[],l=[];for(t+="",n+="";(e=Gt.exec(t))&&(r=Ut.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:Wt(e,r)})),o=Ut.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function Xt(t,n){var e,r=typeof n;return null==n||"boolean"===r?Ct(n):("number"===r?Wt:"string"===r?(e=kt(n))?(n=e,Lt):Dt:n instanceof kt?Lt:n instanceof Date?Vt:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Yt:Array.isArray(n)?Ft:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Bt:Wt)(t,n)}function Zt(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}nt("start","end","cancel","interrupt");const Qt=Math.PI,Jt=2*Qt,Kt=1e-6,tn=Jt-Kt;function nn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function en(){return new nn}function rn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function on(t){return(t=rn(Math.abs(t)))?t[1]:NaN}nn.prototype=en.prototype={constructor:nn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,l=r-n,s=o-t,c=a-n,h=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>Kt)if(Math.abs(c*u-l*s)>Kt&&i){var f=e-o,g=r-a,d=u*u+l*l,p=f*f+g*g,m=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan((Qt-Math.acos((d+h-p)/(2*m*y)))/2),w=v/y,b=v/m;Math.abs(w-1)>Kt&&(this._+="L"+(t+w*s)+","+(n+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>s*g)+","+(this._x1=t+b*u)+","+(this._y1=n+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),l=t+a,s=n+u,c=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+l+","+s:(Math.abs(this._x1-l)>Kt||Math.abs(this._y1-s)>Kt)&&(this._+="L"+l+","+s),e&&(h<0&&(h=h%Jt+Jt),h>tn?this._+="A"+e+","+e+",0,1,"+c+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=l)+","+(this._y1=s):h>Kt&&(this._+="A"+e+","+e+",0,"+ +(h>=Qt)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var an,un=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ln(t){if(!(n=un.exec(t)))throw new Error("invalid format: "+t);var n;return new sn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function sn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function cn(t,n){var e=rn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ln.prototype=sn.prototype,sn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hn={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>cn(100*t,n),r:cn,s:function(t,n){var e=rn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(an=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rn(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fn(t){return t}var gn,dn,pn,mn=Array.prototype.map,yn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vn(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?fn:(n=mn.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?fn:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(mn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=ln(t)).fill,e=t.align,h=t.sign,f=t.symbol,g=t.zero,d=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):hn[v]||(void 0===m&&(m=12),y=!0,v="g"),(g||"0"===n&&"="===e)&&(g=!0,n="0",e="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?o:/[%p]/.test(v)?l:"",x=hn[v],$=/[defgprs%]/.test(v);function M(t){var i,o,l,f=w,M=b;if("c"===v)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:s:"-"===h||"("===h?"":h)+f,M=("s"===v?yn[8+an/3]:"")+M+(k&&"("===h?")":""),$)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}p&&!g&&(t=r(t,1/0));var _=f.length+t.length+M.length,N=_<d?new Array(d-_+1).join(n):"";switch(p&&g&&(t=r(N+t,N.length?d-M.length:1/0),N=""),e){case"<":t=f+t+M+N;break;case"=":t=f+N+t+M;break;case"^":t=N.slice(0,_=N.length>>1)+f+t+M+N.slice(_);break;default:t=N+f+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=ln(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(on(n)/3))),i=Math.pow(10,-r),o=yn[8+r/3];return function(t){return e(i*t)+o}}}}function wn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function bn(t){return+t}gn=vn({thousands:",",grouping:[3],currency:["$",""]}),dn=gn.format,pn=gn.formatPrefix;var xn=[0,1];function $n(t){return t}function Mn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function kn(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Mn(i,r),o=e(a,o)):(r=Mn(r,i),o=e(o,a)),function(t){return o(r(t))}}function _n(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Mn(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=G(t,n,1,r)-1;return o[e](i[e](n))}}function Nn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sn(){var t,n,e,r,i,o,a=xn,u=xn,l=Xt,s=$n;function c(){var t,n,e,l=Math.min(a.length,u.length);return s!==$n&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),s=function(e){return Math.max(t,Math.min(n,e))}),r=l>2?_n:kn,i=o=null,h}function h(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,l)))(t(s(n)))}return h.invert=function(e){return s(n((o||(o=r(u,a.map(t),Wt)))(e)))},h.domain=function(t){return arguments.length?(a=Array.from(t,bn),c()):a.slice()},h.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},h.rangeRound=function(t){return u=Array.from(t),l=Zt,c()},h.clamp=function(t){return arguments.length?(s=!!t||$n,c()):s!==$n},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}function En(){return Sn()($n,$n)}function An(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=U?i*=10:o>=D?i*=5:o>=X&&(i*=2),n<t?-i:i}(t,n,e);switch((r=ln(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(on(n)/3)))-on(Math.abs(t)))}(o,a))||(r.precision=i),pn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,on(n)-on(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-on(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return dn(r)}function In(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Z(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),n=Math.floor(n*a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return An(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,l=o[a],s=o[u],c=10;for(s<l&&(i=l,l=s,s=i,i=a,a=u,u=i);c-- >0;){if((i=Z(l,s,e))===r)return o[a]=l,o[u]=s,n(o);if(i>0)l=Math.floor(l/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Tn(){var t=En();return t.copy=function(){return Nn(t,Tn())},wn.apply(t,arguments),In(t)}function zn(t){return function(){return t}}var Pn=Array.prototype.slice;function Hn(t){return t[0]}function jn(t){return t[1]}function qn(t){return t.source}function Cn(t){return t.target}function On(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Rn(){return function(t){var n=qn,e=Cn,r=Hn,i=jn,o=null;function a(){var a,u=Pn.call(arguments),l=n.apply(this,u),s=e.apply(this,u);if(o||(o=a=en()),t(o,+r.apply(this,(u[0]=l,u)),+i.apply(this,u),+r.apply(this,(u[0]=s,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:zn(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:zn(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}(On)}function Ln(t,n,e){const r=t.slice();return r[22]=n[e],r[24]=e,r}function Yn(t,n,e){const r=t.slice();return r[22]=n[e],r[25]=n,r[24]=e,r}function Fn(t){let n,e,r,i=t[22]+"",o=t[24];const a=()=>t[16](n,o),c=()=>t[16](null,o);return{c(){n=f("text"),e=g(i),m(n,"y",t[2]),m(n,"font-size",r=t[2]+"px")},m(t,r){l(t,n,r),u(n,e),a()},p(u,l){t=u,2&l&&i!==(i=t[22]+"")&&y(e,i),4&l&&m(n,"y",t[2]),4&l&&r!==(r=t[2]+"px")&&m(n,"font-size",r),o!==t[24]&&(c(),o=t[24],a())},d(t){t&&s(n),c()}}}function Vn(t){let n,e,r,o,a,c,h=t[22]+"";function d(...n){return t[17](t[22],t[24],...n)}function w(...n){return t[18](t[24],t[22],...n)}function b(...n){return t[19](t[22],t[24],...n)}return{c(){n=f("text"),e=g(h),m(n,"x",r=t[7][t[24]]),m(n,"y",t[0]),m(n,"font-size",o=t[2]+"px"),m(n,"alignment-baseline",t[3]),m(n,"class","svelte-119j8he"),v(n,"hovered",t[5]==t[24]),v(n,"selected",t[4]==t[24])},m(t,r){l(t,n,r),u(n,e),a||(c=[p(n,"click",d),p(n,"mouseover",w),p(n,"mouseout",b)],a=!0)},p(i,a){t=i,2&a&&h!==(h=t[22]+"")&&y(e,h),128&a&&r!==(r=t[7][t[24]])&&m(n,"x",r),1&a&&m(n,"y",t[0]),4&a&&o!==(o=t[2]+"px")&&m(n,"font-size",o),8&a&&m(n,"alignment-baseline",t[3]),32&a&&v(n,"hovered",t[5]==t[24]),16&a&&v(n,"selected",t[4]==t[24])},d(t){t&&s(n),a=!1,i(c)}}}function Wn(n){let e,r,i,o,a=n[1],u=[];for(let t=0;t<a.length;t+=1)u[t]=Fn(Yn(n,a,t));let h=n[1],g=[];for(let t=0;t<h.length;t+=1)g[t]=Vn(Ln(n,h,t));return{c(){e=f("g");for(let t=0;t<u.length;t+=1)u[t].c();i=d(),o=f("g");for(let t=0;t<g.length;t+=1)g[t].c();m(e,"transform",r="translate("+n[9]+" 0)")},m(t,n){l(t,e,n);for(let t=0;t<u.length;t+=1)u[t].m(e,null);l(t,i,n),l(t,o,n);for(let t=0;t<g.length;t+=1)g[t].m(o,null)},p(t,[n]){if(70&n){let r;for(a=t[1],r=0;r<a.length;r+=1){const i=Yn(t,a,r);u[r]?u[r].p(i,n):(u[r]=Fn(i),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}if(447&n){let e;for(h=t[1],e=0;e<h.length;e+=1){const r=Ln(t,h,e);g[e]?g[e].p(r,n):(g[e]=Vn(r),g[e].c(),g[e].m(o,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=h.length}},i:t,o:t,d(t){t&&s(e),c(u,t),t&&s(i),t&&s(o),c(g,t)}}}function Bn(t){return(null==t?0:t.length)?t.slice(0,-1):[]}function Gn(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}function Un(t){return t.reduce((t,n)=>n>t?n:t,Number.NEGATIVE_INFINITY)}function Dn(t,n,e){const r=M();let{tokens:i=[]}=n,{fontSize:o=22}=n,{tokenSpacing:a=5}=n,{startY:u=null}=n,{alignment:l="baseline"}=n,{selectedInd:s=null}=n,c=null;null==u&&(u="baseline"==l?o:0);let h=[],f=i.map(t=>10),g=f;$(()=>{f=h.map(t=>t.getBoundingClientRect().width),e(7,g=function(t){return Bn(t.reduce((t,n)=>[...t,a+Gn(t)+n],[0]))}(f)),console.log("Token widths: ",f),console.log("Token startXs: ",g)});return t.$$set=t=>{"tokens"in t&&e(1,i=t.tokens),"fontSize"in t&&e(2,o=t.fontSize),"tokenSpacing"in t&&e(13,a=t.tokenSpacing),"startY"in t&&e(0,u=t.startY),"alignment"in t&&e(3,l=t.alignment),"selectedInd"in t&&e(4,s=t.selectedInd)},[u,i,o,l,s,c,h,g,r,-1e4,Bn,Gn,Un,a,function(){return function(){return J(arguments)}(g,f).map(t=>t[0]+t[1]/2)},function(){return function(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}(f)+a*(i.length-1)},function(t,n){_[t?"unshift":"push"](()=>{h[n]=t,e(6,h)})},(t,n)=>{r("click",{token:t,idx:n})},(t,n)=>{e(5,c=t),r("mouseover",{token:n,idx:t})},(t,n)=>{e(5,c=null),r("mouseover",{token:t,idx:n})}]}class Xn extends V{constructor(t){super(),F(this,t,Dn,Wn,a,{initial:10,last:11,max:12,tokens:1,fontSize:2,tokenSpacing:13,startY:0,alignment:3,selectedInd:4,midpoints:14,totalWidth:15})}get initial(){return Bn}get last(){return Gn}get max(){return Un}get midpoints(){return this.$$.ctx[14]}get totalWidth(){return this.$$.ctx[15]}}function Zn(t,n,e){const r=t.slice();return r[23]=n[e],r[25]=e,r}function Qn(t,n,e){const r=t.slice();return r[20]=n[e],r[22]=e,r}function Jn(t){let n,e,r,i;return{c(){n=f("path"),m(n,"d",e=t[4](t[23])),m(n,"class","att-connection svelte-1fbmssv"),m(n,"stroke-width",r=t[2](t[1](t[23].att))),m(n,"opacity",i=t[1](t[23].att)),v(n,"inactive",t[3](t[22],t[25]))},m(t,e){l(t,n,e)},p(t,o){1&o&&e!==(e=t[4](t[23]))&&m(n,"d",e),7&o&&r!==(r=t[2](t[1](t[23].att)))&&m(n,"stroke-width",r),3&o&&i!==(i=t[1](t[23].att))&&m(n,"opacity",i),8&o&&v(n,"inactive",t[3](t[22],t[25]))},d(t){t&&s(n)}}}function Kn(t){let n,e=t[20],r=[];for(let n=0;n<e.length;n+=1)r[n]=Jn(Zn(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=g("")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);l(t,n,e)},p(t,i){if(31&i){let o;for(e=t[20],o=0;o<e.length;o+=1){const a=Zn(t,e,o);r[o]?r[o].p(a,i):(r[o]=Jn(a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){c(r,t),t&&s(n)}}}function te(n){let e,r=n[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Kn(Qn(n,r,t));return{c(){e=f("g");for(let t=0;t<i.length;t+=1)i[t].c()},m(t,n){l(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,[n]){if(31&n){let o;for(r=t[0],o=0;o<r.length;o+=1){const a=Qn(t,r,o);i[o]?i[o].p(a,n):(i[o]=Kn(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&s(e),c(i,t)}}}function ne(t){return(null==t?0:t.length)?t.slice(0,-1):[]}function ee(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}function re(t){return t.reduce((t,n)=>n>t?n:t,Number.NEGATIVE_INFINITY)}function ie(t,n,e){let{attentions:r=[[]]}=n,{attHeight:i=180}=n,{srcPoints:o=null}=n,{targetPoints:a=null}=n,{yStart:u=0}=n,{yEnd:l=i}=n,{activeSrcIdx:s=null}=n,{activeTargetIdx:c=null}=n;console.log("Attentions? ",r),null==o&&(o=r.reduce((t,n)=>[...t,ee(t)+10],[0])),null==a&&(a=r[0].reduce((t,n)=>[...t,ee(t)+10],[0])),console.log("Target points: ",a),console.log("src points: ",o);let h,f,g,d,p,m=Rn().x(t=>t[0]).y(t=>t[1]);return t.$$set=t=>{"attentions"in t&&e(9,r=t.attentions),"attHeight"in t&&e(10,i=t.attHeight),"srcPoints"in t&&e(5,o=t.srcPoints),"targetPoints"in t&&e(6,a=t.targetPoints),"yStart"in t&&e(11,u=t.yStart),"yEnd"in t&&e(12,l=t.yEnd),"activeSrcIdx"in t&&e(7,s=t.activeSrcIdx),"activeTargetIdx"in t&&e(8,c=t.activeTargetIdx)},t.$$.update=()=>{var n,i;608&t.$$.dirty&&e(0,(n=o,i=a,h=r.map((t,e)=>t.map((t,r)=>({source:[n[e],u],target:[i[r],l],att:t}))))),512&t.$$.dirty&&e(18,f=re(r.map(re))),262144&t.$$.dirty&&e(1,g=Tn().domain([0,f]).range([0,.9])),2&t.$$.dirty&&e(2,d=t=>4*g(t)^.33),384&t.$$.dirty&&e(3,p=(t,n)=>null!=s&&t!=s||null!=c&&n!=c)},[h,g,d,p,m,o,a,s,c,r,i,u,l,ne,ee,re,function(t){e(7,s=t)},function(t){e(8,c=t)}]}class oe extends V{constructor(t){super(),F(this,t,ie,te,a,{attentions:9,attHeight:10,srcPoints:5,targetPoints:6,yStart:11,yEnd:12,activeSrcIdx:7,activeTargetIdx:8,initial:13,last:14,max:15,highlightSource:16,highlightTarget:17})}get initial(){return ne}get last(){return ee}get max(){return re}get highlightSource(){return this.$$.ctx[16]}get highlightTarget(){return this.$$.ctx[17]}}function ae(t){let n,e,r,i,o,a={selectedInd:t[7],tokens:t[2],fontSize:t[3],tokenSpacing:t[5],startY:t[3],alignment:"baseline"};e=new Xn({props:a}),t[19](e),e.$on("click",t[20]),e.$on("mouseover",t[21]),e.$on("mouseout",t[22]);let u={attentions:t[1],attHeight:t[4],srcPoints:t[12],targetPoints:t[13],yStart:t[3]+t[6],yEnd:t[3]+t[4]-t[6]};r=new oe({props:u}),t[23](r);let c={tokens:t[0],selectedInd:t[8],fontSize:t[3],tokenSpacing:t[5],startY:t[3]+t[4],alignment:"hanging"};return i=new Xn({props:c}),t[24](i),i.$on("click",t[25]),{c(){n=f("svg"),O(e.$$.fragment),O(r.$$.fragment),O(i.$$.fragment),m(n,"height",t[15]),m(n,"width",t[14])},m(t,a){l(t,n,a),R(e,n,null),R(r,n,null),R(i,n,null),o=!0},p(t,a){const u={};128&a[0]&&(u.selectedInd=t[7]),4&a[0]&&(u.tokens=t[2]),8&a[0]&&(u.fontSize=t[3]),32&a[0]&&(u.tokenSpacing=t[5]),8&a[0]&&(u.startY=t[3]),e.$set(u);const l={};2&a[0]&&(l.attentions=t[1]),16&a[0]&&(l.attHeight=t[4]),4096&a[0]&&(l.srcPoints=t[12]),8192&a[0]&&(l.targetPoints=t[13]),72&a[0]&&(l.yStart=t[3]+t[6]),88&a[0]&&(l.yEnd=t[3]+t[4]-t[6]),r.$set(l);const s={};1&a[0]&&(s.tokens=t[0]),256&a[0]&&(s.selectedInd=t[8]),8&a[0]&&(s.fontSize=t[3]),32&a[0]&&(s.tokenSpacing=t[5]),24&a[0]&&(s.startY=t[3]+t[4]),i.$set(s),(!o||32768&a[0])&&m(n,"height",t[15]),(!o||16384&a[0])&&m(n,"width",t[14])},i(t){o||(q(e.$$.fragment,t),q(r.$$.fragment,t),q(i.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),C(r.$$.fragment,t),C(i.$$.fragment,t),o=!1},d(o){o&&s(n),t[19](null),L(e),t[23](null),L(r),t[24](null),L(i)}}}function ue(t){return(null==t?0:t.length)?t.slice(0,-1):[]}function le(t){var n=null==t?0:t.length;return n?t[n-1]:void 0}function se(t){return t.reduce((t,n)=>n>t?n:t,Number.NEGATIVE_INFINITY)}function ce(t,n,e){let r,i,o,{tokens:a=["Hello","world","."]}=n,{tokensTarget:u=null}=n,{attentions:l=null}=n,{fontSize:s=22}=n,{attHeight:c=180}=n,{tokenSpacing:h=5}=n,{tokenAttSpace:f=8}=n,g=null,d=null;u=null==u?a:u,l=null==l?a.map(t=>function(t){return Array.from(Array(t)).map(t=>Math.random())}(u.length)):l,console.log("Starting with!!! ",l);let p,m=null,y=null;$(()=>{console.log("Found src row: ",r),e(12,m=r.midpoints()),e(13,y=i.midpoints()),e(14,p=Q([r.totalWidth(),i.totalWidth()]))});let v,w,b;return t.$$set=t=>{"tokens"in t&&e(2,a=t.tokens),"tokensTarget"in t&&e(0,u=t.tokensTarget),"attentions"in t&&e(1,l=t.attentions),"fontSize"in t&&e(3,s=t.fontSize),"attHeight"in t&&e(4,c=t.attHeight),"tokenSpacing"in t&&e(5,h=t.tokenSpacing),"tokenAttSpace"in t&&e(6,f=t.tokenAttSpace)},t.$$.update=()=>{t.$$.dirty[0],2&t.$$.dirty[0]&&e(27,v=Q(l.map(t=>Q(t)))),134217728&t.$$.dirty[0]&&e(28,w=Tn().domain([0,v]).range([0,.9])),t.$$.dirty[0],24&t.$$.dirty[0]&&e(15,b=2*s+c),384&t.$$.dirty[0]&&null!=o&&(console.log("Active src, target: ",[g,d]),o.highlightSource(g),o.highlightTarget(d))},[u,l,a,s,c,h,f,g,d,r,i,o,m,y,p,b,ue,le,se,function(t){_[t?"unshift":"push"](()=>{r=t,e(9,r)})},t=>{let n=t.detail.idx;e(8,d=null),e(7,g=g==n?null:n)},t=>console.log("MOUSEOVER: ",t.detail.idx),t=>console.log("MOUSEOUT: ",t.detail),function(t){_[t?"unshift":"push"](()=>{o=t,e(11,o)})},function(t){_[t?"unshift":"push"](()=>{i=t,e(10,i)})},t=>{let n=t.detail.idx;e(7,g=null),e(8,d=d==n?null:n)}]}class he extends V{constructor(t){super(),F(this,t,ce,ae,a,{initial:16,last:17,max:18,tokens:2,tokensTarget:0,attentions:1,fontSize:3,attHeight:4,tokenSpacing:5,tokenAttSpace:6},[-1,-1])}get initial(){return ue}get last(){return le}get max(){return se}}function fe(t){let e,r,i,o,a,u;const c=[t[0]];let f={};for(let t=0;t<c.length;t+=1)f=n(f,c[t]);return i=new he({props:f}),{c(){e=h("h1"),e.textContent="Svelte App",r=d(),O(i.$$.fragment),o=d(),a=h("h1"),a.textContent="Web Component"},m(t,n){l(t,e,n),l(t,r,n),R(i,t,n),l(t,o,n),l(t,a,n),u=!0},p(t,[n]){const e=1&n?function(t,n){const e={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],u=n[o];if(u){for(const t in a)t in u||(r[t]=1);for(const t in u)i[t]||(e[t]=u[t],i[t]=1);t[o]=u}else for(const t in a)i[t]=1}for(const t in r)t in e||(e[t]=void 0);return e}(c,[(r=t[0],"object"==typeof r&&null!==r?r:{})]):{};var r;i.$set(e)},i(t){u||(q(i.$$.fragment,t),u=!0)},o(t){C(i.$$.fragment,t),u=!1},d(t){t&&s(e),t&&s(r),L(i,t),t&&s(o),t&&s(a)}}}function ge(t){let n=["Hello","world","."],e=["What","is","the","meaning","of","life","?"],r=n.map(t=>function(t){return Array.from(Array(t)).map(t=>Math.random())}(e.length));return[{tokens:n,tokensTarget:e,attentions:r}]}return new class extends V{constructor(t){super(),F(this,t,ge,fe,a,{})}}({target:document.getElementById("app"),props:{}})}();
//# sourceMappingURL=bundle.js.map
